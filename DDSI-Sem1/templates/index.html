{% extends 'base.html' %}

{% block body %}
<h2>{{ title }}</h2>

<table class="table table-hover">
    <thead class="table-dark">
        <tr>
            {% for col in table.description %}
                <th>{{ col[0] }}</th>
            {% endfor %}
            {% if title == "Tabla de pedidos" %}
            <th>Detalles de pedido</th>
            {% endif %}
            <th>Acciones</th>
        </tr>
    </thead>
    <tbody>
        {% for row in table %}
          <tr>
              {% for data in row %}
              <td>{{ data }}</td>
              {% endfor %}
              {% if title == "Tabla de pedidos" %}
              <td>
                  <p>
                    <button class="btn btn-primary" type="button" data-bs-toggle="collapse" data-bs-target="#collapse{{row[0]}}" aria-expanded="false" aria-controls="collapseExample">
                      Detalles
                    </button>
                    </p>
              </td>
              {% endif %}
              <td>
                  <a href="edit/{{ row[0] }}"><i class="fas fa-edit fa-lg text-success"></i></a>
                  <a href="delete/{{ row[0] }}"><i class="fas fa-trash fa-lg text-danger"></i></a>
              </td>
          </tr>
          {% if title == "Tabla de pedidos" %}
          <tr class="collapse" id="collapse{{row[0]}}">
                <td colspan="{{(row|length)+2}}">Aqui aparece los detalles del producto</td>
          </tr>
          {% endif %}
        {% endfor %}
    </tbody>
</table>
<a href="insert/stock"><button type="button" class="btn btn-primary">Insertar</button></a>

{% endblock %}
